<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Interactive Quiz Game</title>
  </head>

  <body>
    <div class="quiz-container">
      <!-- Quiz Header -->
      <div class="quiz-header">
        <div class="header-top">
          <h1>ğŸ“š Knowledge Quiz</h1>
          <div class="high-score" id="high-score">
            ğŸ† High Score: <span id="high-score-value">0</span>
          </div>
        </div>
        <p class="subtitle">Test your knowledge across various topics!</p>
      </div>

      <!-- Progress Section -->
      <div class="progress-container">
        <div class="score-display">
          Score: <span id="score">0</span>/<span id="total-questions">10</span>
        </div>
        <div class="progress-bar">
          <div class="progress" id="progress-bar"></div>
        </div>
        <div class="progress-text">
          <span
            >Question <span id="current-question">1</span> of
            <span id="total">10</span></span
          >
          <span><span id="percentage">0</span>% Complete</span>
        </div>
      </div>

      <!-- Question Container -->
      <div id="question-container">
        <div class="question-container">
          <div class="question-number">
            Question <span id="q-number">1</span>:
          </div>
          <div class="question-text" id="question-text">
            What is the capital of France?
          </div>
        </div>

        <!-- Options Container -->
        <div class="options-container" id="options-container">
          <div class="option" data-index="0">
            <div class="option-letter">A</div>
            <div class="option-text">London</div>
          </div>
          <div class="option" data-index="1">
            <div class="option-letter">B</div>
            <div class="option-text">Berlin</div>
          </div>
          <div class="option" data-index="2">
            <div class="option-letter">C</div>
            <div class="option-text">Paris</div>
          </div>
          <div class="option" data-index="3">
            <div class="option-letter">D</div>
            <div class="option-text">Madrid</div>
          </div>
        </div>

        <!-- Feedback -->
        <div class="feedback" id="feedback"></div>

        <!-- Buttons -->
        <div class="buttons-container">
          <button class="btn btn-secondary" id="prev-btn" disabled>
            â† Previous
          </button>
          <button class="btn btn-primary submit-btn" id="submit-btn" disabled>
            Submit Answer
          </button>
          <button class="btn btn-primary" id="next-btn" disabled>Next â†’</button>
        </div>
      </div>

      <!-- Results Container -->
      <div class="result-container" id="result-container" style="display: none">
        <span class="trophy">ğŸ†</span>
        <h2 class="result-title">Quiz Completed!</h2>

        <!-- Final Score Display -->
        <div class="result-score" id="final-score">0/10</div>

        <!-- New High Score Message (Initially Hidden) -->
        <div id="new-high-score-section" style="display: none">
          <div class="high-score-message" id="high-score-message">
            ğŸ‰ New High Score! ğŸ‰
          </div>
        </div>

        <!-- Result Message -->
        <div class="result-message" id="result-message">
          You're a quiz master! Keep learning and challenging yourself.
        </div>

        <div class="buttons-container">
          <button class="btn btn-secondary" id="restart-btn">
            â†» Restart Quiz
          </button>
          <button class="btn btn-primary" id="review-btn">
            ğŸ“ Review Answers
          </button>
          <button class="btn btn-primary" id="leaderboard-btn">
            ğŸ† View Leaderboard
          </button>
        </div>
      </div>

      <!-- Review Answers Container (New) -->
      <div class="review-container" id="review-container" style="display: none">
        <div class="review-header">
          <h2>ğŸ“ Review Your Answers</h2>
          <p class="review-subtitle">See what you got right and wrong</p>
        </div>

        <div class="review-summary">
          <div class="summary-card correct">
            <div class="summary-icon">âœ…</div>
            <div class="summary-content">
              <div class="summary-label">Correct</div>
              <div class="summary-value" id="correct-count">0</div>
            </div>
          </div>
          <div class="summary-card incorrect">
            <div class="summary-icon">âŒ</div>
            <div class="summary-content">
              <div class="summary-label">Incorrect</div>
              <div class="summary-value" id="incorrect-count">0</div>
            </div>
          </div>
          <div class="summary-card score">
            <div class="summary-icon">ğŸ“Š</div>
            <div class="summary-content">
              <div class="summary-label">Score</div>
              <div class="summary-value" id="review-score">0/10</div>
            </div>
          </div>
        </div>

        <div class="review-questions" id="review-questions">
          <!-- Review questions will be dynamically inserted here -->
        </div>

        <div class="buttons-container">
          <button class="btn btn-secondary" id="back-to-results-btn">
            â† Back to Results
          </button>
          <button class="btn btn-primary" id="restart-after-review-btn">
            â†» Take Quiz Again
          </button>
        </div>
      </div>
    </div>

    <!-- 1. Modal Overlay (hidden by default) - MOVED OUTSIDE QUIZ CONTAINER -->
    <div id="name-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ğŸ‰ Congratulations!</h3>
          <p>
            You scored: <span id="modal-score">0</span>/<span id="modal-total"
              >0</span
            >
          </p>
        </div>

        <div class="modal-body">
          <p class="modal-instruction">Enter your name for the leaderboard:</p>

          <div class="input-group">
            <input
              type="text"
              id="player-name"
              placeholder="Your name (2-20 characters)"
              maxlength="20"
              autocomplete="off"
            />
            <button class="btn btn-primary" id="save-score-btn">
              Save & View Leaderboard
            </button>
          </div>

          <div class="input-hint">
            â­ Your name will be displayed on the public leaderboard
          </div>

          <div
            id="name-error"
            class="error-message"
            style="display: none"
          ></div>

          <div class="modal-actions">
            <button class="btn btn-secondary" id="skip-save-btn">
              Skip & Restart
            </button>
          </div>
        </div>

        <button class="modal-close" id="close-modal-btn">Ã—</button>
      </div>
    </div>

    <!-- High Scores List - MOVED OUTSIDE QUIZ CONTAINER -->
    <div
      class="high-scores-section"
      id="high-scores-section"
      style="display: none"
    >
      <div class="quiz-container">
        <h3>ğŸ† Leaderboard</h3>
        <div id="score-container">
          <!-- High scores will be dynamically inserted here -->
          <div class="no-scores-message">No high scores yet. Be the first!</div>
        </div>
        <div class="buttons-container">
          <button class="btn btn-secondary" id="back-to-quiz-btn">
            â† Back to Quiz
          </button>
          <button class="btn btn-danger" id="clear-leaderboard-btn">
            Clear Leaderboard
          </button>
        </div>
      </div>
    </div>

    <script src="quiz.js"></script>
  </body>
</html>
